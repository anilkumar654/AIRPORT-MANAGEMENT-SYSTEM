create database airport;
use airport;
CREATE TABLE CITY (CNAME VARCHAR(15) NOT NULL,
                    STATE VARCHAR(15), 
                    COUNTRY VARCHAR(30),
                    PRIMARY KEY(CNAME));
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES('hyderabad','telangana','India');
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES ('Chandigarh','Chandigarh','India');
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES ('vijayawada','Andhra','india');
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES('Delhi','Delhi','India');
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES('Mumbai','Maharashtra','India');

SELECT * FROM CITY;

CREATE TABLE AIRPORT(AP_NAME VARCHAR(100) NOT NULL,
                    STATE VARCHAR(15), 
                    COUNTRY VARCHAR(30),
                    CNAME VARCHAR(15),
                    PRIMARY KEY(AP_NAME),
                    FOREIGN KEY(CNAME) REFERENCES CITY(CNAME) ON DELETE CASCADE);

INSERT INTO AIRPORT (AP_NAME, STATE, COUNTRY, CNAME) VALUES('rajiv gandhi International Airport','telangana','india','hyderabad');
INSERT INTO AIRPORT (AP_NAME, STATE, COUNTRY, CNAME) VALUES('Chandigarh International Airport','Chandigarh','India','Chandigarh');
INSERT INTO AIRPORT (AP_NAME, STATE, COUNTRY, CNAME) VALUES('vijayawada International Airport','Andhra','india','vijayawada');
INSERT INTO AIRPORT (AP_NAME, STATE, COUNTRY, CNAME) VALUES('Indira GandhiInternational Airport','Delhi','India','Delhi');
INSERT INTO AIRPORT (AP_NAME, STATE, COUNTRY, CNAME) VALUES('Chhatrapati Shivaji International Airport','Maharashtra','India','Mumbai');
SELECT * FROM AIRPORT;
CREATE TABLE AIRLINE(AIRLINEID VARCHAR(3) NOT NULL,
                    AL_NAME VARCHAR(50),
                    THREE_DIGIT_CODE VARCHAR(3),
                    PRIMARY KEY(AIRLINEID));

INSERT INTO AIRLINE (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('SJ','spice jet','001');
INSERT INTO AIRLINE (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('AI','Air India Limited','098');
INSERT INTO AIRLINE (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('IN','Indigo', '220');
INSERT INTO AIRLINE (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('BA','British Airways','125');
INSERT INTO AIRLINE (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('QR','Qatar Airways','157');

CREATE TABLE FLIGHT
(FLIGHT_CODE VARCHAR(10) NOT NULL,
SOURCE VARCHAR(3),
DESTINATION VARCHAR(3),
ARRIVAL VARCHAR(10),
DEPARTURE VARCHAR(10),
STATUS VARCHAR(10),
DURATION VARCHAR(30),
FLIGHTTYPE VARCHAR(10),
LAYOVER_TIME VARCHAR(30),
NO_OF_STOPS INT,
AIRLINEID VARCHAR(3),
PRIMARY KEY(FLIGHT_CODE),
FOREIGN KEY(AIRLINEID) REFERENCES AIRLINE(AIRLINEID) ON DELETE CASCADE);

INSERT INTO FLIGHT VALUES('AI2014','BOM','DFW','02:10','03:15','On-time','24hr','Connecting',3,1,'AI');
INSERT INTO FLIGHT VALUES('QR2305','BOM','DFW','13:00','13:55','Delayed','21hr','Non-stop',0,0,'QR');
INSERT INTO FLIGHT VALUES('EY1234','JFK','TPA','19:20','20:05','On-time','16hrs','Connecting',5,2,'EY');
INSERT INTO FLIGHT VALUES('LH9876','JFK','BOM','05:50','06:35','On-time','18hrs','Non-stop',0,0,'LH');
INSERT INTO FLIGHT VALUES('BA1689','FRA','DEL','10:20','10:55','On-time','14hrs','Non-stop',0,0,'BA');
SELECT * FROM FLIGHT;
SET FOREIGN_KEY_CHECKS=0;
CREATE TABLE PASSENGER1
(PID INT NOT NULL,
PASSPORTNO VARCHAR(10) NOT NULL,
PRIMARY KEY(PID, PASSPORTNO));
INSERT INTO PASSENGER1(PID, PASSPORTNO) VALUES(1,'A1234568');
INSERT INTO PASSENGER1(PID, PASSPORTNO) VALUES(2,'B9876541');
INSERT INTO PASSENGER1(PID, PASSPORTNO) VALUES(3,'C2345698');
INSERT INTO PASSENGER1(PID, PASSPORTNO) VALUES(4,'D1002004');
INSERT INTO PASSENGER1(PID, PASSPORTNO) VALUES(5,'X9324666');
SELECT * FROM PASSENGER1;

CREATE TABLE PASSENGER2
(PASSPORTNO VARCHAR(10) NOT NULL,
FNAME VARCHAR(20),
M VARCHAR(1),
LNAME VARCHAR(20),
ADDRESS VARCHAR(100),
PHONE LONG,
AGE INT,
SEX VARCHAR(1),
PRIMARY KEY(PASSPORTNO));

INSERT INTO PASSENGER2 VALUES('A1234568','ALIA','M','SEN','2230 NORTHSIDE, APT 11, ALBANY, NY',8080367290,30,'M');
INSERT INTO PASSENGER2 VALUES('B9876541','ANKITA','V','AHIR','3456 VIKAS APTS, APT 102,DOMBIVLI, INDIA',8080367280,26,'F');
INSERT INTO PASSENGER2 VALUES('C2345698','KHYATI','A','MISHRA','7820 MCCALLUM COURTS, APT 234, AKRON, OH',8082267280,30,'F');
INSERT INTO PASSENGER2 VALUES('D1002004','ANKITA','S','PATIL','7720 MCCALLUM BLVD, APT 1082, DALLAS, TX',9080367266,23,'F');
INSERT INTO PASSENGER2 VALUES('X9324666','TEJASHREE','B','PANDIT','9082 ESTAES OF RICHARDSON, RICHARDSON, TX',9004360125,28,'F');
SELECT * FROM PASSENGER2;

CREATE TABLE TICKET1
(TICKET_NUMBER BIGINT,
SOURCE VARCHAR(3),
DESTINATION VARCHAR(3),
DATE_OF_BOOKING varchar(20),
DATE_OF_TRAVEL varchar(20),
SEATNO INT,
CLASS VARCHAR(15),
DATE_OF_CANCELLATION DATE,
PID INT,
PASSPORTNO VARCHAR(10),
FOREIGN KEY(PID, PASSPORTNO) REFERENCES PASSENGER1(PID, PASSPORTNO) ON DELETE CASCADE);

INSERT INTO TICKET1 VALUES(122,'BOM','DEL','21-06-16','21-07-16',32,'BUSINESS','2021-07-16',1,'A1234568');
INSERT INTO TICKET1 VALUES(299,'CHA','BOM','21-05-17','21-06-16', ,45,'ECONOMY','2021-07-17',2,'B9876541');
INSERT INTO TICKET1 VALUES(273,'HYD','DEL','21-10-16','21-10-17',12,'BUSINESS','2021-11-16',3,'C2345698');
INSERT INTO TICKET1 VALUES(464,'DEL','VJY','21-08-18','21-09-05',16,'FIRST-CLASS','2021-10-16',4,'D1002004');
INSERT INTO TICKET1 VALUES(266,'CHE','VJY','21-12-14','21-12-16',54,'ECONOMY','2021-12-18',5,'X9324666');
SELECT * FROM TICKET1;

CREATE TABLE PASSENGER3
(PID INT NOT NULL,
FLIGHT_CODE VARCHAR(10),
PRIMARY KEY(PID),
FOREIGN KEY(FLIGHT_CODE) REFERENCES FLIGHT(FLIGHT_CODE) ON DELETE CASCADE);

INSERT INTO PASSENGER3(PID, FLIGHT_CODE) VALUES(1,'AI2014');
INSERT INTO PASSENGER3(PID, FLIGHT_CODE) VALUES(2,'LH9876');
INSERT INTO PASSENGER3(PID, FLIGHT_CODE) VALUES(3,'9W2334');
INSERT INTO PASSENGER3(PID, FLIGHT_CODE) VALUES(4,'QR1902');
INSERT INTO PASSENGER3(PID, FLIGHT_CODE) VALUES(5,'EY1234');
SELECT * FROM PASSENGER3;

CREATE TABLE EMPLOYEE1
(SSN INT NOT NULL,
FNAME VARCHAR(20),
M VARCHAR(1),
LNAME VARCHAR(20),
ADDRESS VARCHAR(100),
PHONE BIGINT,
AGE INT,
SEX VARCHAR(1),
JOBTYPE VARCHAR(30),
ASTYPE VARCHAR(30),
ETYPE VARCHAR(30),
SHIFT VARCHAR(20),
POSITION VARCHAR(30),
AP_NAME VARCHAR(100),
PRIMARY KEY(SSN),
FOREIGN KEY(AP_NAME) REFERENCES AIRPORT(AP_NAME) ON DELETE CASCADE);

INSERT INTO EMPLOYEE1 VALUES(123456789,'LINDA','M','GOODMAN','731 Fondren, Houston, TX',4356789345, 35, 'F','ADMINISTRATIVE SUPPORT','RECEPTIONIST','','','','vijayawada International Airport');
INSERT INTO EMPLOYEE1 VALUES(333445555,'JOHNY','N','PAUL','638 Voss, Houston, TX',9834561995, 40, 'M','ADMINISTRATIVE SUPPORT','SECRETARY','','','','delhi International Airport');
INSERT INTO EMPLOYEE1 VALUES(999887777,'JAMES','P','BOND','3321 Castle, Spring, TX',9834666995, 50, 'M','ENGINEER','','RADIO ENGINEER','','','chandigarh International Airport');
INSERT INTO EMPLOYEE1 VALUES(987654321,'SHERLOCK','A','HOLMES','123 TOP HILL, SAN Francisco,CA',8089654321, 47, 'M','TRAFFIC MONITOR','','','DAY','','hyderabad International Airport');
INSERT INTO EMPLOYEE1 VALUES(666884444,'SHELDON','A','COOPER','345 CHERRY PARK, HESSE,GERMANY',1254678903, 55, 'M','TRAFFIC MONITOR','','NIGHT','','','chennai Airport');
SELECT * FROM EMPLOYEE1;

CREATE TABLE EMPLOYEE2
(JOBTYPE VARCHAR(30) NOT NULL,
SALARY INT,
PRIMARY KEY(JOBTYPE));

INSERT INTO EMPLOYEE2(JOBTYPE, SALARY)VALUES('ADMINISTRATIVE SUPPORT',50000);
INSERT INTO EMPLOYEE2(JOBTYPE, SALARY)VALUES('ENGINEER',70000);
INSERT INTO EMPLOYEE2(JOBTYPE, SALARY)VALUES('TRAFFIC MONITOR',80000);
INSERT INTO EMPLOYEE2(JOBTYPE, SALARY)VALUES('AIRPORT AUTHORITY',90000);
SELECT * FROM EMPLOYEE2;

CREATE TABLE SERVES
(SSN INT NOT NULL,
PID INT NOT NULL,
PASSPORTNO VARCHAR(10) NOT NULL,
PRIMARY KEY(SSN, PID, PASSPORTNO),
FOREIGN KEY(SSN) REFERENCES EMPLOYEE1(SSN) ON DELETE CASCADE,
FOREIGN KEY(PID, PASSPORTNO) REFERENCES PASSENGER1(PID, PASSPORTNO) ON DELETE CASCADE);

INSERT INTO SERVES(SSN, PID, PASSPORTNO) VALUES(123456789,1,'A1234568');
INSERT INTO SERVES(SSN, PID, PASSPORTNO) VALUES(123456789,15,'R8990566');
INSERT INTO SERVES(SSN, PID, PASSPORTNO) VALUES(123456789,9,'Q1243567');
INSERT INTO SERVES(SSN, PID, PASSPORTNO) VALUES(888665555,4,'D1002004');
INSERT INTO SERVES(SSN, PID, PASSPORTNO) VALUES(888665555,13,'P3452390');
SELECT * FROM SERVES;
CREATE TABLE TICKET2
(DATE_OF_BOOKING DATE NOT NULL,
SOURCE VARCHAR(3) NOT NULL,
DESTINATION VARCHAR(3) NOT NULL,
CLASS VARCHAR(15) NOT NULL,
PRICE INT,
PRIMARY KEY(DATE_OF_BOOKING, SOURCE, DESTINATION, CLASS));

INSERT INTO TICKET2 VALUES('21-05-23','BOM','DFW','ECONOMY',95000);
INSERT INTO TICKET2 VALUES('21-06-15','JFK','BOM','ECONOMY',100000);
INSERT INTO TICKET2 VALUES('21-07-16','IAH','DEL','BUSINESS',200000);
INSERT INTO TICKET2 VALUES('21-07-16','IXC','IAH','FIRST-CLASS',150000);
INSERT INTO TICKET2 VALUES('21-06-17','JFK','TPA','ECONOMY',98000);
SELECT * FROM TICKET2;

CREATE TABLE TICKET3
(DATE_OF_CANCELLATION DATE NOT NULL,
SURCHARGE INT,
PRIMARY KEY(DATE_OF_CANCELLATION));
INSERT INTO TICKET3(DATE_OF_CANCELLATION, SURCHARGE) VALUES('21-12-18',75000);
INSERT INTO TICKET3(DATE_OF_CANCELLATION, SURCHARGE) VALUES('21-06-19',25000);
